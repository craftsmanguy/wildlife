<div class="row flex-center pt-1">

  <div class="card-body z-depth-1">
    <div class="text-center">
      <h3>Registration</h3>
      <hr>
    </div>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

      <div class="md-form form-sm">
        <i class="fa fa-envelope prefix blue-text"></i>
        <input type="email" placeholder="Email" formControlName="email" class="form-control" [ngClass]="{ 'is-invalid': submitted && formValues.email.errors }"
          autofocus/>
        <div *ngIf="submitted && formValues.email.errors" class="invalid-feedback text-center">
          <div *ngIf="formValues.email.errors.required">Email is required</div>
          <div *ngIf="formValues.email.errors.email">Email is invalid</div>
        </div>
      </div>

      <div class="md-form form-sm">
        <i class="fa fa-user prefix blue-text"></i>
        <input type="text" placeholder="Pseudonym" class="form-control" formControlName="pseudonym" [ngClass]="{ 'is-invalid': submitted && formValues.pseudonym.errors }"
          autofocus/>
        <div *ngIf="submitted && formValues.pseudonym.errors" class="invalid-feedback text-center">
          <div *ngIf="formValues.pseudonym.errors.required">Pseudo is required</div>
          <div *ngIf="formValues.pseudonym.errors.pattern">Pseudo is invalid</div>
        </div>
      </div>


      <div formGroupName="security">
        <div class="md-form form-sm">
          <i class="fa fa-key prefix blue-text"></i>
          <input type="password" placeholder="Password" class="form-control" formControlName="password" [ngClass]="{ 'is-invalid': submitted && formValues.security.controls.password.errors }"
            autofocus/>
          <div *ngIf="submitted && formValues.security.controls.password.errors" class="invalid-feedback text-center">
            <div *ngIf="formValues.security.controls.password.errors.required">Password is required</div>
            <div *ngIf="formValues.security.controls.password.errors.pattern">Password must be at least 8 characters, 1 lower case, 1 number, 1 special character like $&+,:@#|
              <>.^!-</div>
          </div>
        </div>

        <div class="md-form form-sm">
          <i class="fa fa-key prefix blue-text"></i>
          <input type="password" placeholder="Password Confirmation" class="form-control" formControlName="confirmPassword" [ngClass]="{ 'is-invalid': submitted && formValues.security.controls.confirmPassword.errors || formValues.security.errors}"
            autofocus/>
          <div *ngIf="submitted && formValues.security.controls.confirmPassword.errors" class="invalid-feedback text-center">
            <div *ngIf="formValues.security.controls.confirmPassword.errors.required">Password confirmation is required</div>
          </div>
          <div *ngIf="formValues.security.errors" class="invalid-feedback text-center">
            <div *ngIf="formValues.security.errors.invalidMatchPassword">Password and confirm password must be same</div>
          </div>
        </div>
      </div>

      <div class="md-form form-sm">
        <i class="fa fa-map-pin prefix blue-text"></i>
        <input placeholder="Postal Code" type="text" class="form-control has-danger" formControlName="postalCode" [ngClass]="{ 'is-invalid': submitted && formValues.postalCode.errors }"
          autofocus/>
        <div *ngIf="submitted && formValues.postalCode.errors" class="invalid-feedback text-center">
          <div *ngIf="formValues.postalCode.errors.required">Postal code is required</div>
          <div *ngIf="formValues.postalCode.errors.pattern">Invalid format</div>
        </div>
      </div>

      <div class="md-form form-sm">
        <i class="fa fa-map-signs prefix blue-text"></i>
        <input placeholder="City" type="text" class="form-control has-danger" formControlName="city" [ngClass]="{ 'is-invalid': submitted && formValues.city.errors }"
          autofocus/>
        <div *ngIf="submitted && formValues.city.errors" class="invalid-feedback text-center">
          <div *ngIf="formValues.city.errors.required">City is required</div>
          <div *ngIf="formValues.city.errors.pattern">Invalid format</div>
        </div>
      </div>


      <div class="md-form form-sm text-center">
        <button md-button class="btn btn-primary">Submit
        </button>
      </div>
    </form>
    <div class="modal-footer mx-6 pt-2 mb-1">
      <p class="font-small grey-text d-flex justify-content-end">Déjà membre?
        <a href="login" class="blue-text ml-1"> Log In</a>
      </p>
    </div>

  </div>
  <!--Footer-->



</div>